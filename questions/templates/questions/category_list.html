{% extends 'base.html' %}

{% block title %}ì¹´í…Œê³ ë¦¬ ê´€ë¦¬{% endblock %}

{% block content %}
<div class="flex">
    <aside class="w-64 flex-shrink-0 border-r border-gray-200 bg-white px-6 py-8 min-h-screen">
        <div class="sticky top-24">
            <!-- ì „ì²´ ë³´ê¸° -->
            <a href="{% url 'questions:staff_unanswered' %}" class="block px-4 py-2 mb-2 rounded-md {% if not selected_category %}bg-gray-100 font-semibold{% else %}hover:bg-gray-50{% endif %} transition-colors">
                ğŸ“‹ ì „ì²´ ì§ˆë¬¸
            </a>

            <!-- ì»¤ë®¤ë‹ˆí‹° ë§í¬ -->
            <a href="{% url 'discussions:post_list' %}" class="block px-4 py-2 mb-4 rounded-md hover:bg-gray-50 transition-colors">
                ğŸ’¬ ì»¤ë®¤ë‹ˆí‹°
            </a>
            <!-- ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ -->
            <a href="{% url 'questions:category_list' %}" class="block px-4 py-2 mb-4 rounded-md hover:bg-gray-50 transition-colors">
                #ï¸âƒ£ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
            </a>
        </div>
    </aside>

    <main class="flex-1 min-w-0 max-w-5xl mx-auto px-8 py-8">

        <h1 class="text-3xl font-bold mb-4">ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸</h1>

        <div class="mb-6 flex justify-between items-center">
            <form method="get" class="flex items-center gap-4">
                <select name="sort" class="border border-gray-300 rounded px-2 py-1 h-9">
                    <option value="latest" {% if sort == "latest" %}selected{% endif %}>ì„¸ì…˜</option>
                    <option value="oldest" {% if sort == "oldest" %}selected{% endif %}>ê³¼ì œ</option>
                </select>
                <button type="submit" class="px-4 py-1.5 bg-[#059212] text-white rounded-lg">ì ìš©</button>
            </form>

            <a href="{% url 'questions:category_create' %}" class="px-4 py-1.5 bg-blue-600 text-white rounded-lg">ì¹´í…Œê³ ë¦¬ ì¶”ê°€</a>
        </div>

        {% if categories %}
            <div class="space-y-4">
            {% for category in categories %}
                <div class="flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                    <div>
                        <h3 class="font-semibold text-gray-800">{{ category.name }}</h3>
                        <span class="text-sm text-gray-500">{{ category.get_category_type_display }}</span>
                    </div>
                    <div class="flex gap-2">
                        <!-- ìˆ˜ì • ë²„íŠ¼: GitHub Issue ìŠ¤íƒ€ì¼ -->
                        <a href="{% url 'questions:category_update' category.pk %}" 
                        class="px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 transition-colors font-medium">
                            ìˆ˜ì •
                        </a>

                        <!-- ì‚­ì œ ë²„íŠ¼: GitHub Issue ìŠ¤íƒ€ì¼ -->
                        <form method="post" action="{% url 'questions:category_delete' category.pk %}" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                            {% csrf_token %}
                            <button type="submit" class="px-3 py-1 text-sm border border-red-500 text-red-600 rounded-md hover:bg-red-50 transition-colors font-medium">
                                ì‚­ì œ
                            </button>
                        </form>
                    </div>
                </div>
                {% endfor %}
            </div>

        {% else %}
            <div class="text-center py-12 bg-gray-50 rounded-lg">
                <p class="text-gray-600 text-lg">ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤</p>
            </div>
        {% endif %}

    </main>
</div>
{% endblock %}
